# Challenge:

Using your magic get flag asap !

# Solution:

Like challenge before, we got not else but 2 blocks to enter title and note. Nothing can eject in the title but in note, it seem like they run some http to convert to string. Try XSS and it work.

![image](https://github.com/Katsumi1012/CTF/assets/90083485/f82a9b54-348a-4341-b18c-ae0c97e2c85a)

But this is static web so XSS is not the vul we are looking for. We try something like `{{7*7}}` to see and this is the result:

![image](https://github.com/Katsumi1012/CTF/assets/90083485/f7ccaf10-52a0-4ea8-a5d3-57230d244f25)

Seem they filter our `{}` so what happen when we use `{7*7}`?

![image](https://github.com/Katsumi1012/CTF/assets/90083485/2bb6076a-bd94-4f9b-856b-f08475872eec)

We have trigger the error of the server. I have no idea what going next until this hint:

![image](https://github.com/Katsumi1012/CTF/assets/90083485/97ef67ef-e4b9-4331-bf54-c16419dc96b1)

Hint talk about `python format string error` and in [geeksforgeeks](https://www.geeksforgeeks.org/vulnerability-in-str-format-in-python/) i saw this:

```python
{people_obj.__init__.__globals__[CONFIG][KEY]}
```

How about we get the globals env from that server. Try with this: `{self.__init__.__globals__}` and woala, we get stuff here:

![image](https://github.com/Katsumi1012/CTF/assets/90083485/cee7ec49-3ab1-4edd-ab8b-7a3c9986fba9)

In here we saw `secret_function` like the hint say. But it empty so when i use `{self.__init__.__globals__[secret_function]}` it return nothing. 

Test a little bit, i got this payload in a [wup](https://ctftime.org/writeup/27904) `{self.__init__.__globals__[secret_function].__code__.co_consts}`:

`FUSec{Br3h_1mA0_ni3C_g4Ys}`
